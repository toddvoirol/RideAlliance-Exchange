<!-- Modern Change Password Component - 2025 Edition -->
<div class="password-change-container animate-fade-in">
  <div class="content-wrapper">
    <div class="card password-card">
      <div class="card-header">
        <h2>Change Password</h2>
      </div>
      <div class="card-body">
        <div class="spinner-container" *ngIf="loading">
          <div class="spinner">
            <div class="spinner-circle"></div>
          </div>
          <p class="loading-text">Processing your request...</p>
        </div>

        <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()" class="password-form">
          <div class="form-group">
            <label class="form-label" for="password">
              New Password<span class="required-indicator">*</span>
            </label>
            <div class="password-input">
              <input
                type="password"
                id="password"
                class="form-control"
                formControlName="password"
                [ngClass]="{'is-invalid': changePasswordForm.get('password')?.invalid && changePasswordForm.get('password')?.touched}"
              />
            </div>
            <div class="invalid-feedback" *ngIf="changePasswordForm.get('password')?.invalid && changePasswordForm.get('password')?.touched">
              Enter valid password
            </div>
          </div>

          <div class="form-group">
            <label class="form-label" for="confirmPassword">
              Confirm Password<span class="required-indicator">*</span>
            </label>
            <div class="password-input">
              <input
                type="password"
                id="confirmPassword"
                class="form-control"
                formControlName="confirmPassword"
                [ngClass]="{'is-invalid': changePasswordForm.get('confirmPassword')?.invalid && changePasswordForm.get('confirmPassword')?.touched}"
              />
            </div>
            <div class="invalid-feedback" *ngIf="changePasswordForm.get('confirmPassword')?.invalid && changePasswordForm.get('confirmPassword')?.touched">
              Passwords must match
            </div>
          </div>

          <div class="form-actions">
            <button
              type="submit"
              class="btn btn-primary"
              [disabled]="changePasswordForm.invalid"
            >
              <i class="ph ph-key"></i> Change Password
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
